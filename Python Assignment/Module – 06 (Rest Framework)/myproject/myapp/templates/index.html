<!-- myapp/templates/index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book CRUD</title>
  </head>
  <body>
    <h1>Book CRUD Operations</h1>

    <!-- Book Form -->
    <form method="post" action="{% url 'book-list' %}">
      {% csrf_token %}
      <h2>Add/Edit Book</h2>
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" required /><br />

      <label for="author">Author:</label>
      <input type="text" id="author" name="author" required /><br />

      <label for="isbn">ISBN:</label>
      <input type="text" id="isbn" name="isbn" required /><br />

      <label for="publisher">Publisher:</label>
      <input type="text" id="publisher" name="publisher" required /><br />

      <input type="submit" value="Submit" />
    </form>

    <!-- Display Book List -->
    <h2>Book List</h2>
    <table border="1">
      <thead>
        <tr>
          <th>#</th>
          <th>Book Title</th>
          <th>Book Author</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for book in books %}
        <tr>
          <td>{{book.id}}</td>
          <td>{{ book.title }}</td>
          <td>{{ book.author }}</td>
          <td>
            <form method="post" action="{% url 'book-list' %}">
              {% csrf_token %}
              <input type="hidden" name="id" value="{{ book.id }}">
              <input type="hidden" name="_method" value="DELETE">
              <input type="submit" value="Delete">
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </body>
</html>
